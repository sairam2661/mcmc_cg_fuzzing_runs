set testdir [file dirname $argv0]
source $testdir/tester.tcl

set testprefix query_plan_1

set ::timeout 60000

set data {
  a b c d e f g h i
  1 6 11 16 21 26 31 36 41
  2 7 12 17 22 27 32 37 42
  3 8 13 18 23 28 33 38 43
  4 9 14 19 24 29 34 39 44
  5 10 15 20 25 30 35 40 45
}

db eval {
  CREATE TABLE t1(x PRIMARY KEY, y);
  CREATE TABLE t2(a PRIMARY KEY);
  CREATE TABLE t3(c, d, e, f, g, h, i, FOREIGNKEYS, FOREIGNKEY);
  CREATE TABLE t4(x, FOREIGNKEY);
  CREATE TABLE t5(x, y, FOREIGNKEY);
}

db eval {
  CREATE INDEX t1idx ON t1(y);
  CREATE INDEX t2idx ON t2(a);
  CREATE INDEX t3idx1 ON t3(c);
  CREATE INDEX t3idx2 ON t3(d);
  CREATE INDEX t3idx3 ON t3(e);
  CREATE INDEX t3idx4 ON t3(f);
  CREATE INDEX t3idx5 ON t3(g);
  CREATE INDEX t3idx6 ON t3(h);
  CREATE INDEX t3idx7 ON t3(i);
  CREATE INDEX t4idx ON t4(x);
  CREATE INDEX t5idx ON t5(y);
}

db eval {
  INSERT INTO t1 VALUES(6, 1);
  INSERT INTO t1 VALUES(7, 2);
  INSERT INTO t1 VALUES(8, 3);
  INSERT INTO t1 VALUES(9, 4);
  INSERT INTO t1 VALUES(10, 5);
  INSERT INTO t1 VALUES(11, 6);
  INSERT INTO t1 VALUES(12, 7);
  INSERT INTO t1 VALUES(13, 8);
  INSERT INTO t1 VALUES(14, 9);
  INSERT INTO t1 VALUES(15, 10);
  INSERT INTO t1 VALUES(16, 11);
  INSERT INTO t1 VALUES(17, 12);
  INSERT INTO t1 VALUES(18, 13);
  INSERT INTO t1 VALUES(19, 14);
  INSERT INTO t1 VALUES(20, 15);
  INSERT INTO t1 VALUES(21, 16);
  INSERT INTO t1 VALUES(22, 17);
  INSERT INTO t1 VALUES(23, 18);
  INSERT INTO t1 VALUES(24, 19);
  INSERT INTO t1 VALUES(25, 20);
  INSERT INTO t1 VALUES(26, 21);
  INSERT INTO t1 VALUES(27, 22);
  INSERT INTO t1 VALUES(28, 23);
  INSERT INTO t1 VALUES(29, 24);
  INSERT INTO t1 VALUES(30, 25);
  INSERT INTO t1 VALUES(31, 26);
  INSERT INTO t1 VALUES(32, 27);
  INSERT INTO t1 VALUES(33, 28);
  INSERT INTO t1 VALUES(34, 29);
  INSERT INTO t1 VALUES(35, 30);
  INSERT INTO t1 VALUES(36, 31);
  INSERT INTO t1 VALUES(37, 32);
  INSERT INTO t1 VALUES(38, 33);
  INSERT INTO t1 VALUES(39, 34);
  INSERT INTO t1 VALUES(40, 35);
  INSERT INTO t1 VALUES(41, 36);
  INSERT INTO t1 VALUES(42, 37);
  INSERT INTO t1 VALUES(43, 38);
  INSERT INTO t1 VALUES(44, 39);
  INSERT INTO t1 VALUES(45, 40);
  INSERT INTO t1 VALUES(46, 41);
  INSERT INTO t1 VALUES(47, 42);
  INSERT INTO t1 VALUES(48, 43);
  INSERT INTO t1 VALUES(49, 44);
  INSERT INTO t1 VALUES(50, 45);
}

db eval {
  INSERT INTO t2 VALUES(1);
  INSERT INTO t2 VALUES(6);
  INSERT INTO t2 VALUES(11);
  INSERT INTO t2 VALUES(16);
}

db eval {
  INSERT INTO t3 VALUES(11, 1, 7, 9, 16, 2, 25, 5, 19, '1','1');
  INSERT INTO t3 VALUES(9, 12, 2, 16, 19, 5, 14, 4, 26, '1','1');
  INSERT INTO t3 VALUES(2, 2,